[{"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/index.js":"1","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/App.js":"2","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/reportWebVitals.js":"3","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/redux/store.js":"4","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/redux/reducer.js":"5","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Home.js":"6","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Login.js":"7","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Seats.js":"8","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Header.js":"9","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Footer.js":"10","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/admin/Buses.js":"11","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/admin/Bookings.js":"12","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/user/Home.js":"13","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Signup.js":"14","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/admin/Home.js":"15"},{"size":622,"mtime":1612266370998,"results":"16","hashOfConfig":"17"},{"size":1767,"mtime":1611946014501,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":1611569508436,"results":"19","hashOfConfig":"17"},{"size":194,"mtime":1611570063278,"results":"20","hashOfConfig":"17"},{"size":1907,"mtime":1611828403882,"results":"21","hashOfConfig":"17"},{"size":1023,"mtime":1612293807485,"results":"22","hashOfConfig":"17"},{"size":1964,"mtime":1612258619769,"results":"23","hashOfConfig":"17"},{"size":5570,"mtime":1612298692257,"results":"24","hashOfConfig":"17"},{"size":1913,"mtime":1612250361000,"results":"25","hashOfConfig":"17"},{"size":197,"mtime":1612179793466,"results":"26","hashOfConfig":"17"},{"size":9856,"mtime":1612302152609,"results":"27","hashOfConfig":"17"},{"size":3241,"mtime":1612325015026,"results":"28","hashOfConfig":"17"},{"size":5595,"mtime":1612299377807,"results":"29","hashOfConfig":"17"},{"size":1297,"mtime":1611941251353,"results":"30","hashOfConfig":"17"},{"size":353,"mtime":1611990430343,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1xf3o9e",{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"34"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"34"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"34"},"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/index.js",[],["72","73"],"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/App.js",["74","75"],"import React, {useEffect} from 'react'\nimport axios from 'axios'\nimport {useSelector,useDispatch} from 'react-redux'\nimport \tHomePage from './components/Home'\nimport\tLoginPage from './components/Login'\nimport\tSignupPage from './components/Signup'\nimport\tSeatsPage from './components/Seats'\n\nimport AdminHome from './components/admin/Home'\nimport\tAdminBuses from './components/admin/Buses'\nimport\tAdminBookings from './components/admin/Bookings'\n\nimport\tUserHomePage from './components/user/Home'\nimport\tHeader from './components/Header'\nimport\tFooter from './components/Footer'\n\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\n\n\n\nfunction App() {\n  let dispatch=useDispatch()\n  let state=useSelector(s=>s)\n  useEffect(function(){\n\t\t\n\n\t\tabc()\n\n\t},[])\n\n\n\tconst abc= async () =>{\n\t\tconst url=\"http://localhost:5000\"\n\t\tlet users=await axios.get(url+\"/users\").then(res=>res.data.data)\n\t\tlet buses=await axios.get(url+\"/buses\").then(res=>res.data.data)\n\t\tlet bookings=await axios.get(url+\"/bookings\").then(res=>res.data.data)\n\n\t\tdispatch({type:\"bootstrap\",payload:{users,buses,bookings}})\n\t}\n\n  return (\n    \n    <Router>\n      <Header/>\n\t  <div className = \"container\">\n      <Switch>\n      \t\t<Route exact path=\"/\" component={HomePage}/>\n\t\t\t<Route exact path=\"/seats\" component={SeatsPage}/>\n\t\t\t<Route exact path=\"/login\" component={LoginPage}/>\n\t\t\t<Route exact path=\"/signup\" component={SignupPage}/>\n\t\t\t<Route exact path=\"/admin/index\" component={AdminHome}/>\n\t\t\t\n\t\t\t<Route exact path=\"/admin/buses\" component={AdminBuses}/>\n\t\t\t<Route exact path=\"/admin/bookings\" component={AdminBookings}/>\n\t\t\t<Route exact path=\"/user/index\" component={UserHomePage}/>\n      </Switch>\n\t  </div>\n      <Footer/>\n    </Router>\n    \n    \n  )\n}\n\nexport default App\n","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/reportWebVitals.js",[],"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/redux/store.js",[],"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/redux/reducer.js",[],"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Home.js",["76","77"],"import React from 'react'\nimport {useSelector,useDispatch} from 'react-redux'\nimport {Link} from 'react-router-dom'\nimport {Card} from 'react-bootstrap';\nimport { Button } from 'react-bootstrap';\n\nfunction Home() {\n\n    let dispatch=useDispatch()\n\tlet state=useSelector(s=>s)\n\tlet {buses,loggedin}=state\n\tconsole.log(\"seebuses\")\n\tconsole.log(\"lin\")\n\tconsole.log(loggedin)\n    const setSingleBus = x => {\n        dispatch({type: \"setSingleBus\", payload: x})\n    }\n\n    return (\n\t\t\n\t\t\t\n        <div>\n            \n\t\t\t<h4 className=\"sub-title\">Available Buses: {buses.length}</h4>\n            \n\t\t\t\n\t\t\t<div className = \"busesdiv\">\n\t\t\t\t{buses.map(x=>\n\t\t\t\t<div className = \"busesinnerdiv\">\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t<Link style={{\"align items\":\"center\",\"font-weight\":\"400\"}}onClick={e=>setSingleBus(x)} to=\"/seats\"><i style={{\"color\":\"#13232f\"}} class=\"fa fa-bus\" aria-hidden=\"true\"> View Seats {x.bus_title} {x.bus_from} - {x.bus_to}</i></Link>\t\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\n    )\n}\n\nexport default Home\n","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Login.js",["78"],"import React, {useState} from 'react';\nimport axios from 'axios';\nimport {useSelector, useDispatch} from 'react-redux'\n\nfunction Login(props) {\n    const dispatch = useDispatch()\n    const state = useSelector(s=>s)\n    const [ob, setob]=useState({email:\"\", password: \"\"})\n\n    const submit = e => {\n        e.preventDefault()\n        axios.post(\"http://localhost:5000/login\",ob)\n        .then(res=>res.data)\n        .then(d=>{\n            console.log(d)\n            if(d.status)\n            {\n                alert(\"loggedin success\")\n                \n\t\t\t\tlocalStorage.setItem(\"token\",d.data.token)\n\t\t\t\tlocalStorage.setItem(\"user\",d.data.name)\n\t\t\t\tlocalStorage.setItem(\"role\",\"user\")\n                dispatch({type:\"loggedin_user\",payload:d.data})\n                props.history.push(\"/\")\n\n            }\n            else{\n                alert(\"login failed\")\n            }\n        })\n    }\n\n    const adminlogin=e=>{\n\t\te.preventDefault()\n        axios.post(\"http://localhost:5000/login/admin\",ob)\n        .then(res=>res.data)\n\t\t.then(d=>{\n\t\t\tif(d.status)\n\t\t\t{   alert(\"admin loggedin\")\n\t\t\t\tlocalStorage.setItem(\"token\",d.data.token)\n\t\t\t\tlocalStorage.setItem(\"user\",\"admin\")\n                localStorage.setItem(\"role\",\"admin\")\n                dispatch({type:\"loggedin_admin\", payload : d.data.token})\n\t\t\t\tprops.history.push(\"/admin/index\")\n\t\t\t}\n\t\t})\n\t\t.catch(d=>console.log(d))\n\t}\n\n    return (\n        <form className = \"form1\" onSubmit = {submit}>\n            <h2>Welcome to Bluebus</h2>\n            <p>Email</p>\n            <input name=\"email\" placeholder=\"Email Address*\" onChange={e=>setob({...ob, email:e.target.value})}/>\n            <p>Password</p>\n            <input name=\"password\" placeholder=\"Set A Password*\" onChange={e=>setob({...ob, password:e.target.value})} />\n            <button>Sign in</button>\n            <button onClick = {adminlogin} type= \" button \"><i class=\"fa fa-lock\"></i> Admin</button>\n        </form>\n    )\n}\n\nexport default Login\n","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Seats.js",["79","80","81","82","83"],"import React, {useEffect, useState}  from 'react'\nimport axios from 'axios'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {useSelector,useDispatch} from 'react-redux'\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nfunction PaperComponent(props) {\n    return (\n      <Draggable handle=\"#draggable-dialog-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\n        <Paper {...props} />\n      </Draggable>\n    );\n  }\n  function Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n      '& > * + *': {\n        marginTop: theme.spacing(2),\n      },\n    },\n  }));\nfunction Seats(props) {\n    const classes = useStyles();\n    let dispatch = useDispatch()\n    let state = useSelector(s=>s)\n    let x = state.bus\n    let [a,seta] = useState([])\n    let [num, setnum] = useState(40)\n    let [seatid, setseatid] = useState(0)\n    let {bookings,buses,users} = state\n    const [open, setOpen] = React.useState(false);\n    const [opentoast, setOpenToast] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setOpenToast(false);\n  };\n    if(!x._id)\n    {\n        props.history.push(\"/\")\n    }\n\n    useEffect(function(){\n        axios.post(\"http://localhost:5000/seat/info\",{\n            busid:x._id\n        })\n        .then(res=>res.data)\n        .then(d=>{\n            seta(d.data)\n            setnum(new Array(num).fill(0).map((item,index)=>index+1))\n        })\n        .catch(e=>alert(\"error hai\"))\n    },[])\n    const filled_or_not=seat_num=>{\n\t\treturn bookings.some(x=>+x.seatid==+seat_num) \n\t}\n\n\tlet tr=new Array(11).fill(0).map((x,i) =>i).map(x=>x*4+1)\n    const handleClick = () => {\n        setOpenToast(true);\n      };\n\tconst bookNow=num=>{\n\n\t\tif(filled_or_not(num))\n\t\t{\n            handleClick()\n            \n\t\t}\n\t\telse\n\t\t{\n\t\t\tconsole.log(num,state.bookings)\n\t\t\tsetseatid(num)\n\t\t}\n\t}\n    const dobooking = e =>{\n        const headers = {\n            headers : {\n                Authorization : `bearer ${state.token}`\n            }\n        }\n        const myobj = {\n            seatid,\n            busid : x._id\n        }\n        axios.post(\"http://localhost:5000/book/seat\",myobj,headers)\n        .then(res =>{\n            axios.get(\"http://localhost:5000/bookings\")\n            .then(res=>res.data.data)\n            .then(res => dispatch({type:\"bookings\", payload:res}))\n            handleClose()\n        })\n        .catch(e=>alert(e.message))\n        \n    }\n    \n\n    return (\n\n        <div className = {classes.root}>\n            <Dialog\n        open={open}\n        onClose={handleClose}\n        PaperComponent={PaperComponent}\n        aria-labelledby=\"draggable-dialog-title\"\n      >\n        <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n          Book Seat\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Do you really want to Book Seat No. {seatid} ?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"contained\" color=\"secondary\" onClick={handleClose} >\n            Cancel\n          </Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={dobooking} >\n            Book\n          </Button>\n        </DialogActions>\n      </Dialog>\n            <div className = \"card-bus\">\n                <div className = \"card-heading\">\n            <h3> Bus selected is {x.bus_title}</h3>\n                </div>\n            <div className = \"card-body\">\n            \n            \n            <h4>Boarding : </h4><p>{x.bus_from} at {x.bus_starttime}</p>\n            <h4>Dropping : </h4><p>{x.bus_to} at {x.bus_endtime}</p>\n            <h4>Name : </h4><p>{state.user}</p>\n\n            \n            \n\n            </div>\n            <div className = \"card-footer\">\n            <h4>Total seats : 40</h4>\n            {/* <h3>Available sets: {40-a.length}</h3> */}\n            \n            <button disabled = {!seatid} onClick = {handleClickOpen}>{\n                seatid?\"Book seat number :\"+seatid:\"please select a seat first\"\n            }</button>\n            </div>\n            {/* <h2>Bus seats</h2> */}\n            </div>\n            <Snackbar open={opentoast} autoHideDuration={6000} onClose={handleClose}>\n            <Alert onClose={handleClose} severity=\"error\">This seat is already booked!\n            </Alert>\n            </Snackbar>\n            <table className = \"table-sm\" cellPadding=\"5\" cellSpacing=\"10\">\n\t\t\t<tbody>\n\t\t\t\t{tr.slice(0,10).map((x,i) =>\n\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t<td onClick={e=>bookNow(x+1)} bgcolor={filled_or_not(x+1)?\"#696969\":\"white\"}>{x+1}</td>\n\t\t\t\t\t\t<td onClick={e=>bookNow(x+0)} bgcolor={filled_or_not(x+0)?\"#696969\":\"white\"}>{x+0}</td>\n\t\t\t\t\t\t<td onClick={e=>bookNow(x+2)} bgcolor={filled_or_not(x+2)?\"#696969\":\"white\"}>{x+2}</td>\n\t\t\t\t\t\t<td onClick={e=>bookNow(x+3)} bgcolor={filled_or_not(x+3)?\"#696969\":\"white\"}>{x+3}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t)}\n\t\t\t</tbody>\n\t\t</table>\n            \n        </div>\n    )\n}\n\nexport default Seats\n","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Header.js",["84","85"],"import React from 'react'\n\nimport {useSelector, useDispatch} from 'react-redux'\nimport {Link} from 'react-router-dom'\n\nfunction Header() {\n\n    let dispatch = useDispatch()\n    let state = useSelector(s=>s)\n    \n    let {user, loggedin, role} = state\n\n    return (\n\n        <header>\n            \n            <Link to='/'><img style ={{\"height\":\"88px\",\"position\":\"relative\",\"bottom\":\"6px\"}} src = \"https://www.graphicsprings.com/filestorage/stencils/f794ad52bccba5259868672d8db49de5.png?width=500&height=500\"/></Link>\n            <h2 style={{\"fontFamily\":\"impact\", \"font-weight\":\"10\"}}>BlueBus</h2>\n            \n\n        {\n            !loggedin?<ul style={{\"position\":\"relative\",\"top\":\"5px\",\"left\":\"10px\"}}>\n                <li><Link to = '/login'>Login</Link></li>\n                <li><Link to = '/signup'>Signup</Link></li>\n            </ul>\n            :null\n        }\n        {\n            role===\"admin\"?<ul style={{\"position\":\"relative\",\"top\":\"5px\",\"left\":\"10px\"}}>\n            \n            \n            \n            <li><Link to = '/'><i class=\"fa fa-home fa-10x\" aria-hidden=\"true\" ></i></Link></li>\n            <li><Link to='/admin/index'>Welcome Admin</Link></li>\n            <li><Link to='/admin/buses'>Buses</Link></li>\n            <li><Link to='/admin/bookings'>Bookings</Link></li>\n            <li onClick = {e => dispatch({type: \"logout\"})}><Link to='/login'>logout</Link></li>\n            </ul>\n            :null\n        }\n\n        {role===\"user\"?<ul style={{\"position\":\"relative\",\"top\":\"5px\",\"right\":\"10px\"}}>\n        \n            {/* <li><Link to = '/'><i class=\"fa fa-home fa-10x\" fa-10x aria-hidden=\"true\" ></i></Link></li> */}\n            <li><Link to = '/'>Home</Link></li>\n\t\t\t<li><Link to='/user/index'>My Bookings</Link></li>\n\t\t\t<li onClick = {e => dispatch({type: \"logout\"})}><Link to='/login'>Logout</Link></li>\n\t\t</ul>\n\t\t:null}\n        </header>\n\n        \n    )\n}\n\nexport default Header\n","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Footer.js",[],"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/admin/Buses.js",["86"],"// import React,{useEffect,useState} from 'react'\n// import axios from 'axios'\n// import {useSelector,useDispatch} from 'react-redux'\n\n// function Buses() {\n\n//     const dispatch=useDispatch()\n//     const state=useSelector(s=>s)\n//     const {buses}=state\n//     console.log(buses)\n//     const [ob,setob] = useState({ bus_title : \"\", \n//         bus_route : \"\", \n//         bus_starttime : \"\", \n//         bus_endtime : \"\", \n//         bus_hours : \"\", \n//         bus_from : \"\", \n//         bus_to : \"\"}) \n\n//     let [status, setstatus] = useState(false)\n\n//     useEffect(function(){\n//         console.log(\"state is \")\n//         console.log(state)\n//         axios.get(\"http://localhost:5000/buses\")\n//         .then(res=>res.data)\n//         .then(res=>res.data)\n//         .then(d=>{\n            \n//             dispatch({type: \"buses\", payload:d})\n            \n//         })\n//         .catch(e=>alert(\"error \"))\n//     },[status])\n\n//     const submit = (e) => {\n//         e.preventDefault()\n//         axios.post('http://localhost:5000/buses',ob)\n//         .then(res => res.data)\n//         .then(res =>res.data)\n//         .then(d => setstatus(true))\n//         .catch(e => alert(e.message))\n//     }\n//     return (\n//         <div>\n//             <form onSubmit = {submit} style={{\"align-items\":\"center\"}}>\n//                 <h1>Total buses {buses.length}</h1>\n//                 <table>\n//                 <tbody>\n// \t\t\t\t\t{Object.keys(ob).map(x=>\n//                     <tr>\n//                         <td>\n//                             {x}\n//                         </td>\n//                         <td>\n//                             <input \n//                             onChange={e=>setob({...ob,[x]:e.target.value})}\n//                             value={ob[x]} \n//                             placeholder={\"enter \"+x}\n//                             />\n//                         </td>\n//                     </tr>\n//                 )}\n// \t\t\t\t</tbody>\n//                 </table>\n//                 <button style={{\"margin\":\"2% auto\",\"padding\":\"2%\",\"cursor\":\"pointer\"}}>add bus </button>\n//             </form>\n            \n\n//             <table cellPadding=\"10\" border=\"1\">\n// \t\t\t\t<thead>\n// \t\t\t\t\t<tr>\n// \t\t\t\t\t\t<th>id</th>\n// \t\t\t\t\t\t<th>Bus title</th>\n\t\t\t\t\t\n// \t\t\t\t\t\t<th>Bus route</th>\n// \t\t\t\t\t\t<th>Bus starttime</th>\n// \t\t\t\t\t\t<th>Bus endtime</th>\n// \t\t\t\t\t\t<th>Bus Hours</th>\n// \t\t\t\t\t\t<th>Bus From</th>\n// \t\t\t\t\t\t<th>Bus To</th>\n\t\t\t\t\t\t\n// \t\t\t\t\t</tr>\n// \t\t\t\t</thead>\n// \t\t\t\t<tbody>\n// \t\t\t\t\t{buses.map(x=>\n// \t\t\t\t\t\t<tr>\n// \t\t\t\t\t\t\t<td>{x._id}</td>\n// \t\t\t\t\t\t\t<td>{x.bus_title}</td>\n\t\t\t\t\t\t\t\n// \t\t\t\t\t\t\t<td>{x.bus_route}</td>\n// \t\t\t\t\t\t\t<td>{x.bus_starttime}</td>\n// \t\t\t\t\t\t\t<td>{x.bus_endtime}</td>\n// \t\t\t\t\t\t\t<td>{x.bus_hours}</td>\n// \t\t\t\t\t\t\t<td>{x.bus_from}</td>\n// \t\t\t\t\t\t\t<td>{x.bus_to}</td>\n\t\t\t\t\t\t\t\n// \t\t\t\t\t\t</tr>\n// \t\t\t\t\t)}\n// \t\t\t\t</tbody>\n// \t\t\t</table>\n//         </div>\n//     )\n// }\n\n// export default Buses\nimport React,{useEffect,useState} from 'react'\nimport axios from 'axios'\nimport {useSelector,useDispatch} from 'react-redux'\nimport Button from '@material-ui/core/Button';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst StyledTableCell = withStyles((theme) => ({\n    head: {\n      backgroundColor: theme.palette.info.dark,\n      color: theme.palette.common.white,\n    },\n    body: {\n      fontSize: 14,\n    },\n  }))(TableCell);\n  \n  const StyledTableRow = withStyles((theme) => ({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.action.hover,\n      },\n    },\n  }))(TableRow);\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 700,\n    },\n  });\n\n  \n  \nfunction Buses() {\n    const classes = useStyles();\n    const dispatch=useDispatch()\n    const state=useSelector(s=>s)\n    const {buses}=state\n    console.log(buses)\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n  \n    const handleClose = () => {\n      setOpen(false);\n    };\n  \n    const [ob,setob] = useState({ bus_title : \"\", \n        bus_route : \"\", \n        bus_starttime : \"\", \n        bus_endtime : \"\", \n        bus_hours : \"\", \n        bus_from : \"\", \n        bus_to : \"\"}) \n\n    let [status, setstatus] = useState(false)\n\n    useEffect(function(){\n        console.log(\"state is \")\n        console.log(state)\n        axios.get(\"http://localhost:5000/buses\")\n        .then(res=>res.data)\n        .then(res=>res.data)\n        .then(d=>{\n            \n            dispatch({type: \"buses\", payload:d})\n            \n        })\n        .catch(e=>alert(\"error \"))\n    },[status])\n\n    const submit = (e) => {\n        e.preventDefault()\n        axios.post('http://localhost:5000/buses',ob)\n        .then(res => res.data)\n        .then(res =>res.data)\n        .then(d => setstatus(true))\n        handleClose()\n        .catch(e => alert(e.message))\n    }\n    return (\n        <div style={{\"margin\":\"20px auto\"}}>\n            {/* <form onSubmit = {submit} style={{\"align-items\":\"center\"}}>\n                <h1>Total buses {buses.length}</h1>\n                <table>\n                <tbody>\n\t\t\t\t\t{Object.keys(ob).map(x=>\n                    <tr>\n                        <td>\n                            {x}\n                        </td>\n                        <td>\n                            <input \n                            onChange={e=>setob({...ob,[x]:e.target.value})}\n                            value={ob[x]} \n                            placeholder={\"enter \"+x}\n                            />\n                        </td>\n                    </tr>\n                )}\n\t\t\t\t</tbody>\n                </table>\n                <button style={{\"margin\":\"2% auto\",\"padding\":\"2%\",\"cursor\":\"pointer\"}}>add bus </button>\n            </form>\n            \n\n            <table cellPadding=\"10\" border=\"1\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>id</th>\n\t\t\t\t\t\t<th>Bus title</th>\n\t\t\t\t\t\n\t\t\t\t\t\t<th>Bus route</th>\n\t\t\t\t\t\t<th>Bus starttime</th>\n\t\t\t\t\t\t<th>Bus endtime</th>\n\t\t\t\t\t\t<th>Bus Hours</th>\n\t\t\t\t\t\t<th>Bus From</th>\n\t\t\t\t\t\t<th>Bus To</th>\n\t\t\t\t\t\t\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{buses.map(x=>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>{x._id}</td>\n\t\t\t\t\t\t\t<td>{x.bus_title}</td>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<td>{x.bus_route}</td>\n\t\t\t\t\t\t\t<td>{x.bus_starttime}</td>\n\t\t\t\t\t\t\t<td>{x.bus_endtime}</td>\n\t\t\t\t\t\t\t<td>{x.bus_hours}</td>\n\t\t\t\t\t\t\t<td>{x.bus_from}</td>\n\t\t\t\t\t\t\t<td>{x.bus_to}</td>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t)}\n\t\t\t\t</tbody>\n\t\t\t</table> */}\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add New Bus</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please fill the details of the bus.\n          </DialogContentText>\n          <form>\n          {Object.keys(ob).map(x=>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label={x}\n            type=\"email\"\n            onChange={e=>setob({...ob,[x]:e.target.value})}\n            value={ob[x]}\n            fullWidth\n          />\n          )}\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={submit} color=\"primary\">\n            Add Bus\n          </Button>\n        </DialogActions>\n      </Dialog>\n            <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"customized table\">\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>Bus Id</StyledTableCell>\n            <StyledTableCell align=\"right\">Bus Title</StyledTableCell>\n            <StyledTableCell align=\"right\">Bus Route</StyledTableCell>\n            <StyledTableCell align=\"right\">Bus Start-time</StyledTableCell>\n            <StyledTableCell align=\"right\">Bus end-time</StyledTableCell>\n            <StyledTableCell align=\"right\">Duration</StyledTableCell>\n            <StyledTableCell align=\"right\">Departure</StyledTableCell>\n            <StyledTableCell align=\"right\">Arrival</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {buses.map((x) => (\n            <StyledTableRow key={x._id}>\n              <StyledTableCell component=\"th\" scope=\"row\">\n                {x._id}\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">{x.bus_title}</StyledTableCell>\n              <StyledTableCell align=\"right\">{x.bus_route}</StyledTableCell>\n              \n              <StyledTableCell align=\"right\">{x.bus_starttime}</StyledTableCell>\n              <StyledTableCell align=\"right\">{x.bus_endtime}</StyledTableCell>\n              <StyledTableCell align=\"right\">{x.bus_hours}</StyledTableCell>\n              <StyledTableCell align=\"right\">{x.bus_from}</StyledTableCell>\n              <StyledTableCell align=\"right\">{x.bus_to}</StyledTableCell>\n            </StyledTableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <Button onClick = {handleClickOpen} style={{\"margin\":\"20px 50%\"}}variant=\"contained\" color=\"primary\">\n        Add \n      </Button>\n        </div>\n    )\n}\n\nexport default Buses\n\n","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/admin/Bookings.js",["87"],"/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/user/Home.js",["88","89","90","91","92","93"],"import React from 'react'\nimport axios from 'axios'\nimport {useSelector,useDispatch} from 'react-redux'\n\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport Button from '@material-ui/core/Button';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Draggable from 'react-draggable';\nfunction PaperComponent(props) {\n\treturn (\n\t  <Draggable handle=\"#draggable-dialog-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\n\t\t<Paper {...props} />\n\t  </Draggable>\n\t);\n  }\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t  backgroundColor: theme.palette.info.dark,\n\t  color: theme.palette.common.white,\n\t},\n\tbody: {\n\t  fontSize: 14,\n\t},\n  }))(TableCell);\n  const StyledTableRow = withStyles((theme) => ({\n\troot: {\n\t  '&:nth-of-type(odd)': {\n\t\tbackgroundColor: theme.palette.action.hover,\n\t  },\n\t},\n  }))(TableRow);\n  const useStyles = makeStyles({\n\ttable: {\n\t  minWidth: 700,\n\t},\n  });\n  \n\nlet Home=function(props){\n\tconst classes = useStyles();\n\tlet dispatch=useDispatch()\n\tlet state=useSelector(s=>s)\n\tconst [open, setOpen] = React.useState(false);\n\tconst [todel,settodel]=React.useState(\"\")\n  const handleClickOpen = (e,id) => {\n\tsettodel(id);\n\tsetOpen(true);\n\t\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n\tReact.useEffect(function(){\n\t\tif(state.buses.length==0)\n\t\t{\n\t\t\tprops.history.push(\"/\")\n\t\t}\n\t\tconst headers={\n\t\t\theaders:{\n\t\t\t\tAuthorization:`bearer ${state.token}`\n\t\t\t}\n\t\t}\n\t\taxios.get(\"http://localhost:5000/my/bookings\",headers)\n\t\t.then(res=>{\n\t\t\tdispatch({type:\"my booking\",payload:res.data.data})\n\n\n\t\t\tconsole.log(state)\n\t\t})\n\t\t.catch(e=>alert(e.message))\n\n\t\t\n\t},[])\n\n\n\n\tconst demo=id=>{\n\t\tconsole.log(state.buses.find(x=>x._id.toString()==id))\n\t\treturn state.buses.find(x=>x._id.toString()==id)\n\t}\n\n\t\n\n\tconst cancelNow=id =>{\n\t\tconst headers={\n\t\t\t\t\theaders:{\n\t\t\t\t\t\tAuthorization:`bearer ${state.token}`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\taxios.post(\"http://localhost:5000/cancel/booking\",{id},headers)\n\t\t\t\t.then(res=>{\n\t\t\t\t\t// dispatch({type:\"my booking\",payload:res.data.data})\n\t\t\t\t\t// console.log(res.data)\n\t\t\t\t\tdispatch({type:\"my booking\",payload:state.booking.filter(x=>x._id!=id)})\n\t\t\t\t\tdispatch({type:\"bookings\",payload:state.bookings.filter(x=>x._id!=id)})\n\t\t\t\t\thandleClose();\n\t\t\t\t})\n\t\t\t\t.catch(e=>alert(e.message))\n\n\t\t\t\t\n\t}\n\t\n\n\treturn <div>\n\t\t\n\t\t\n\t\t<h2 className=\"sub-title\">My total bookings {state.booking.length}</h2>\n\t\t\n\t\t<TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"customized table\">\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>sno</StyledTableCell>\n\t\t\t<StyledTableCell align=\"right\">Bus </StyledTableCell>\n            <StyledTableCell align=\"right\">Route</StyledTableCell>\n            <StyledTableCell align=\"right\">Start-time</StyledTableCell>\n            <StyledTableCell align=\"right\">End-time</StyledTableCell>\n            <StyledTableCell align=\"right\">Duration</StyledTableCell>\n\t\t\t<StyledTableCell align=\"right\">From</StyledTableCell>\n\t\t\t<StyledTableCell align=\"right\">to</StyledTableCell>\n\t\t\t<StyledTableCell align=\"right\">Cancel</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {state.booking.map((x) => (\n            <StyledTableRow key={x._id}>\n              <StyledTableCell component=\"th\" scope=\"row\">\n                {x._id}\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">{demo(x.busid).bus_title}</StyledTableCell>\n              <StyledTableCell align=\"right\">{demo(x.busid).bus_route}</StyledTableCell>\n              <StyledTableCell align=\"right\">{demo(x.busid).bus_starttime}</StyledTableCell>\n              <StyledTableCell align=\"right\">{demo(x.busid).bus_endtime}</StyledTableCell>\n\t\t\t  <StyledTableCell align=\"right\">{demo(x.busid).bus_hours}</StyledTableCell>\n\t\t\t  <StyledTableCell align=\"right\">{demo(x.busid).bus_from}</StyledTableCell>\n\t\t\t  <StyledTableCell align=\"right\">{demo(x.busid).bus_to}</StyledTableCell>\n\t\t\t  <StyledTableCell align=\"right\"><Button variant=\"contained\" color=\"secondary\" onClick={(e)=>handleClickOpen(e,x._id)}>Cancel</Button></StyledTableCell>\n            </StyledTableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n\t<Dialog\n        open={open}\n        onClose={handleClose}\n        PaperComponent={PaperComponent}\n        aria-labelledby=\"draggable-dialog-title\"\n      >\n        <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n          Cancel Booking\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure, you want to cancel the booking?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"contained\" color=\"secondary\" onClick={e=>cancelNow(todel)}>\n            Cancel \n          </Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={handleClose} >\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n\t</div>\n}\nexport default Home;","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/Signup.js",["94","95"],"import React,{useState} from 'react'\nimport axios from 'axios'\nimport {useSelector, useDispatch} from 'react-redux'\n\n\nfunction Signup(props) {\n\n    const dispatch = useDispatch()\n    const state = useSelector(s=>s)\n    const [ob,setob] = useState({name: \"\", email: \"\", password: \"\", phone:\"\"})\n    const submit=e=>{\n        e.preventDefault()\n        axios.post(\"http://localhost:5000/signup\",ob)\n        .then(res=>alert(res.data.data.msg))\n        .then(d=>props.history.push(\"/login\"))\n    }\n    return (\n        <form className = \"form1\" onSubmit = {submit}>\n            <h1>Signup</h1>\n            <p>name</p>\n            <input name=\"name\" placeholder=\"name\" onChange = {e=> setob({...ob, name:e.target.value})} />\n            \n            \n            <p>email</p>\n            <input name=\"email\" placeholder=\"email\" onChange = {e=> setob({...ob, email:e.target.value})} />\n            \n            \n            <p>password</p>\n            <input name=\"password\" placeholder=\"password\" onChange = {e=> setob({...ob, password:e.target.value})} />\n\n            <p>phone</p>\n            <input name=\"phone\" placeholder=\"phone\" onChange = {e=> setob({...ob, phone:e.target.value})} />\n            \n            <button>Signup</button>\n            \n        </form>\n    )\n}\n\nexport default Signup\n","/home/aashish/Desktop/bus-booking/frontend/bus-booking-frontend/src/components/admin/Home.js",["96"],"import React from 'react'\nimport {useSelector,useDispatch} from 'react-redux'\n\n\n\n\n    \nfunction Home() {\n    let dispatch=useDispatch()\n\tlet state=useSelector(s=>s)\n    let {loggedin}=state\n    console.log(loggedin)\n    return (\n        <div>\n            <h1 style={{\"text-align\":\"center\"}}>Hello Admin!</h1>\n        </div>\n    )\n}\n\nexport default Home\n",{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":23,"column":7,"nodeType":"103","messageId":"104","endLine":23,"endColumn":12},{"ruleId":"105","severity":1,"message":"106","line":29,"column":4,"nodeType":"107","endLine":29,"endColumn":6,"suggestions":"108"},{"ruleId":"101","severity":1,"message":"109","line":4,"column":9,"nodeType":"103","messageId":"104","endLine":4,"endColumn":13},{"ruleId":"101","severity":1,"message":"110","line":5,"column":10,"nodeType":"103","messageId":"104","endLine":5,"endColumn":16},{"ruleId":"101","severity":1,"message":"102","line":7,"column":11,"nodeType":"103","messageId":"104","endLine":7,"endColumn":16},{"ruleId":"101","severity":1,"message":"111","line":38,"column":10,"nodeType":"103","messageId":"104","endLine":38,"endColumn":11},{"ruleId":"101","severity":1,"message":"112","line":41,"column":19,"nodeType":"103","messageId":"104","endLine":41,"endColumn":24},{"ruleId":"101","severity":1,"message":"113","line":41,"column":25,"nodeType":"103","messageId":"104","endLine":41,"endColumn":30},{"ruleId":"105","severity":1,"message":"114","line":67,"column":7,"nodeType":"107","endLine":67,"endColumn":9,"suggestions":"115"},{"ruleId":"116","severity":1,"message":"117","line":69,"column":36,"nodeType":"118","messageId":"119","endLine":69,"endColumn":38},{"ruleId":"101","severity":1,"message":"120","line":11,"column":10,"nodeType":"103","messageId":"104","endLine":11,"endColumn":14},{"ruleId":"121","severity":1,"message":"122","line":17,"column":26,"nodeType":"123","endLine":17,"endColumn":214},{"ruleId":"105","severity":1,"message":"124","line":189,"column":7,"nodeType":"107","endLine":189,"endColumn":15,"suggestions":"125"},{"ruleId":"101","severity":1,"message":"126","line":36,"column":6,"nodeType":"103","messageId":"104","endLine":36,"endColumn":14},{"ruleId":"116","severity":1,"message":"117","line":71,"column":24,"nodeType":"118","messageId":"119","endLine":71,"endColumn":26},{"ruleId":"105","severity":1,"message":"127","line":90,"column":4,"nodeType":"107","endLine":90,"endColumn":6,"suggestions":"128"},{"ruleId":"116","severity":1,"message":"117","line":95,"column":51,"nodeType":"118","messageId":"119","endLine":95,"endColumn":53},{"ruleId":"116","severity":1,"message":"117","line":96,"column":46,"nodeType":"118","messageId":"119","endLine":96,"endColumn":48},{"ruleId":"116","severity":1,"message":"129","line":111,"column":71,"nodeType":"118","messageId":"119","endLine":111,"endColumn":73},{"ruleId":"116","severity":1,"message":"129","line":112,"column":70,"nodeType":"118","messageId":"119","endLine":112,"endColumn":72},{"ruleId":"101","severity":1,"message":"126","line":8,"column":11,"nodeType":"103","messageId":"104","endLine":8,"endColumn":19},{"ruleId":"101","severity":1,"message":"102","line":9,"column":11,"nodeType":"103","messageId":"104","endLine":9,"endColumn":16},{"ruleId":"101","severity":1,"message":"126","line":9,"column":9,"nodeType":"103","messageId":"104","endLine":9,"endColumn":17},"no-native-reassign",["130"],"no-negated-in-lhs",["131"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'abc'. Either include it or remove the dependency array.","ArrayExpression",["132"],"'Card' is defined but never used.","'Button' is defined but never used.","'a' is assigned a value but never used.","'buses' is assigned a value but never used.","'users' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'num' and 'x._id'. Either include them or remove the dependency array. You can also do a functional update 'setnum(n => ...)' if you only need 'num' in the 'setnum' call.",["133"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'user' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has missing dependencies: 'dispatch' and 'state'. Either include them or remove the dependency array.",["134"],"'dispatch' is assigned a value but never used.","React Hook React.useEffect has missing dependencies: 'dispatch', 'props.history', and 'state'. Either include them or remove the dependency array.",["135"],"Expected '!==' and instead saw '!='.","no-global-assign","no-unsafe-negation",{"desc":"136","fix":"137"},{"desc":"138","fix":"139"},{"desc":"140","fix":"141"},{"desc":"142","fix":"143"},"Update the dependencies array to be: [abc]",{"range":"144","text":"145"},"Update the dependencies array to be: [num, x._id]",{"range":"146","text":"147"},"Update the dependencies array to be: [dispatch, state, status]",{"range":"148","text":"149"},"Update the dependencies array to be: [dispatch, props.history, state]",{"range":"150","text":"151"},[770,772],"[abc]",[2086,2088],"[num, x._id]",[5310,5318],"[dispatch, state, status]",[2236,2238],"[dispatch, props.history, state]"]